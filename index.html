<!-- 
  Copyright © 2021 Paul Juneau All Rights Reserved.
-->
<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>webmidi-conductor wall ball game demo</title>
  <meta name="description" content="webmidi-conductor wall ball game demo">
  <meta name="author" content="Paul Juneau">
  <meta name="version" content="1.0.0">
  <script src="webMidiConductor/midiChlorianController.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/pauljuneau/PitchDetectMirror@v1.1.2/js/pitchdetect.js"></script>
  <script src="webMidiConductor/musicConductorCtrl.js"></script>
  <link rel="stylesheet"type="text/css" href="games/demo/game.css">

</head>

<body>
  <canvas width="750" height="585" id="game" onclick="gameSetup()" onmouseover="focus()" style="display:none;"></canvas>
  
  <div id="welcomeScreen" style="background-color: lightblue;" >
    <pre id="welcomeMessage" onclick="gameSetup()">
      Welcome! Click or touch here to get started!
      The game arena will resize on mobile after rotating the screen back and forth.
      WATCH OUT!!! Play within the scale or your paddle shrinks!
      Goals are 10 points! Triad chords are 3 points & 7ths are 4! 
      Wall color is based on the defined key's position on a RGB Circle of 5ths Color Wheel.
      In the major key: C is red, E is green, and G# (Ab) is blue.
      Playing chords changes your paddle color based on the chord's key mapped to the RGB Circle of 5ths Color Wheel.
      BREAK DOWN THAT WALL!
    </pre>
    <div id="thanksAndLinksScreen" style="background-color: lightblue; display:none;">
      <pre style="visibility:hidden;">
        New line
      </pre>
      <h1>Thanks</h1>
      <dl>
        <dt>Danté Harrell, MM</dt>
        <dd>Music Consultant</dd>
        <dd>NYC Based Teaching Artist</dd>
        <dd><a href="mailto:carpenterproductions2019@gmail.com">Email Danté</a></dd>
        <dt>Steven Lambert</dt>
        <dd><a href="https://gist.github.com/straker/81b59eecf70da93af396f963596dfdc5" target="_blank">Basic Pong HTML Game</a></dd>
        <dt>Original Inspiration for making webmidi-conductor</dt>
        <dd><a href="https://youtu.be/iamRkSsnIS0" target="_blank">Web MIDI API demo video at Node+JS Interactive seminar Dec 2019</a></dd>
      </dl>
      <h1>Additional Links</h1>
        <ul>
          <li><a href="https://github.com/pauljuneau/webmidi-conductor" target="_blank">webmidi-conductor github repo</a></li>
        </ul>
        <ul>
          <li><a href="https://www.pauljuneauengineer.com/blog/webmidi-conductor/home.html" target="_blank">Official webmidi-conductor blog</a></li>
        </ul>
        <ul>
          <li><a href="https://www.buymeacoffee.com/classicantique" target="_blank">Buy me a coffee! Provide support to help me keep these creative works alive and free!</a></li>
        </ul>
    </div>
    <footer style="background-color: white">
      Copyright &copy; 2021 Paul Juneau All Rights Reserved. | 
      <button onclick="location.reload();">Show Welcome Message</button>
      <button onclick="document.getElementById('welcomeMessage').style.display='none'; document.getElementById('thanksAndLinksScreen').style.display='inline';">Show Thanks and Additional Links</button>
    </footer>
  </div>
  
  <script>
    var gamePaused = true;
  </script>
  <script src="games/demo/game.js"></script>
  <div id="liveAudioPanel" style="display:none;">
      <!--TODO idea: amplify noise from phone mic?-->
      <button onclick="this.innerText = togglePlayback()" id="demo" style="display:none;">use demo audio</button>
      <button onclick="toggleLiveInput()" id="liveAudio" style="display:none;">use live input</button>
      <button onclick="toggleOscillator()" style="display:none;">use oscillator</button>
      <!--<button onclick="updatePitch(0);">sample</button>-->
      <div id="detector" class="vague" style="display:none;">
          <div class="pitch"><span id="pitch">--</span>Hz</div>
          <div class="note"><span id="note">--</span></div>   
          <canvas id="output" width="300" height="42"></canvas>
          <div id="detune"><span id="detune_amt">--</span><span id="flat">cents &#9837;</span><span id="sharp">cents &#9839;</span></div>
      </div>
      <!-- just used for debugging 
      <canvas id="waveform" width="512" height="256"></canvas>-->
      <script>
          canPublishPitchEvents = true;
      </script>
  </div>
  <div id="redirectPanel" style="display:none;">
    <a id="redirectToBuyMeCoffee" href="https://www.buymeacoffee.com/classicantique" target="_blank">Buy me a coffee</a>
  </div>
</body>
</html>